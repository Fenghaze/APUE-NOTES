# 1 串行、并发与并行

## 1.1 串行

- 有多个任务按顺序执行，执行完一个任务后再执行下一个

- 比喻1：先吃饭再看电视
- 比喻2：一群人按编号顺序排队，只有一个窗口，按编号顺序进行业务处理



## 1.2 并发

- 对于单核处理器而言，**在一段时间内**，当有多个线程（进程）要执行时，单核处理器一次只能处理一个线程（进程），处理器通过调度算法（时间片轮转等），不停的切换线程（进程）来处理，宏观上看，这么多线程（进程）都是在这个时间段内完成的
- 比喻1：一会儿去餐厅吃饭，一会儿去客厅看电视

- 比喻2：一群人排队，只有一个窗口，按照一定的规则（先来先服务、时间片轮转等）进行业务处理



## 1.3 并行

- 对于多核处理器或多个处理器而言，当有多个线程（进程）要执行时，每个核或每个处理器分配到了一个线程（进程）来进行处理，此时无论从宏观上还是微观上看，这么多线程（进程）都是**同时**运行的
- **并行可以看作是同时发生的多个并发事件**
- 比喻1：一边吃饭一边看电视

- 比喻2：一群人排队，有多个窗口，对于每个窗口，可以按照并发的规则进行业务处理



==在真实环境中，我们要解决的就是并发问题，因为对于并行问题，这是由物理条件决定的，其本质还是解决并发问题==





# 2 同步与异步

## 2.1 同步、互斥

临界区：多个线程（进程）都要执行的代码块或要访问的系统资源



###  2.1.1 互斥

互斥亦称间接制约关系

当一个线程（进程）进入临界区使用临界资源时，另一个线程（进程）必须等待, 当占用临界资源的线程（进程）退出临界区后，另一线程（进程）才允许去访问此临界资源。

==举例：==当有两个线程（进程）需要使用同一台打印机时，就出现了互斥现象



### 2.1.2 同步

同步亦称直接制约关系

它是指为完成某种任务而建立的两个或多个线程（进程），这些进程因为需要在某些位置上协调它们的工作次序而等待、传递信息所产生的制约关系

线程（进程）间的直接制约关系就是源于它们之间的相互合作

**同步一般伴随着互斥**



==举例：==读写者问题，多个读者可以同时读同一个文件，但是当要有写者要写文件时，必须先让读者全部退出，然后才能让一个写者进行写操作

**这个例子既体现了同步（读者必须先全部退出，才能写）；又体现了互斥（写文件的时候，文件这个临界资源只允许一个线程（进程）访问）**



## 2.2 同步、异步

在处理问题的顺序和时间安排上，同步和异步是对立的

同步就是顺序执行任务，执行完一个再执行下一个，需要等待、协调运行

异步就是彼此独立,在等待某事件的过程中继续做自己的事，不需要等待这一事件完成后再工作

异步和同步的区别， 在I/O等待的时候，同步不会切走，浪费了时间



## 2.3 异步的实现方式：信号、多线程

异步和多线程并不是一个同等关系,异步是最终目的,多线程只是我们实现异步的一种手段

异步是当一个调用请求发送给被调用者,而调用者不用等待其结果的返回而可以做其它的事情。当这个调用完成后，一般通过**状态**、**通知**和**回调**来通知调用者。对于异步调用，调用的返回并不受调用者控制

```
通知调用者的三种方式，具体如下：

1、状态

即监听被调用者的状态（轮询），调用者需要每隔一定时间检查一次，效率会很低。

2、通知

当被调用者执行完成后，发出通知告知调用者，无需消耗太多性能。

3、 回调

与通知类似，当被调用者执行完成后，会调用调用者提供的回调函数。
```

实现异步可以采用多线程技术或交给另外的进程来处理

多线程的好处，比较容易的实现了 异步切换的思想， 因为异步的程序很难写的。多线程本身程还是以同步完成，但是应该说比效率是比不上异步的。 但是多线程很容易写， 相对效率也高。



<hr>

参考资料：

并发和并行，异步与多线程区别：https://blog.csdn.net/qiuyubo1/article/details/80288525?utm_medium=distribute.pc_relevant.none-task-blog-baidujs-1

并发 并行 同步 异步 多线程的区别：https://blog.csdn.net/cqkxboy168/article/details/9026205

同步异步区别：https://www.jianshu.com/p/5bd91335138a